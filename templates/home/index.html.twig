{% extends 'base.html.twig' %}

{% block title %}Sanayi Birliği{% endblock %}

{% block stylesheets %}
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <script>
        tailwind = window.tailwind || {}; tailwind.config = { darkMode: 'class', theme: { extend: { colors: { primary: '#dc2626', 'background-light': '#f6f7f8', 'background-dark': '#101c22' }, fontFamily: { display: ['Newsreader'], sans: ['Noto Sans'] }, borderRadius: { DEFAULT: '0.25rem', lg: '0.5rem', xl: '0.75rem', full: '9999px' } } } };
    </script>
    <style>
      @keyframes marquee { 0% { transform: translateX(0);} 100% { transform: translateX(-100%);} }
      .animate-marquee { animation: marquee 40s linear infinite; }
      .group:hover .animate-marquee { animation-play-state: paused; }
    </style>
{% endblock %}

{% block body %}
<div class="relative flex h-auto min-h-screen w-full flex-col overflow-x-hidden" x-data="{ activeSlide: 0 }">
  <header class="flex items-center justify-between whitespace-nowrap border-b border-black/10 px-10 py-4">
    <div class="flex items-center gap-3">
      <div class="h-6 w-6 text-primary">
        <svg fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M24 4H6V17.3333V30.6667H24V44H42V30.6667V17.3333H24V4Z" fill="currentColor" fill-rule="evenodd"></path></svg>
      </div>
      <h2 class="font-display text-xl font-bold">Sanayi Birliği</h2>
    </div>
    <nav class="flex flex-1 items-center justify-end gap-6">
      <div class="hidden md:flex items-center gap-6">
        <a class="text-sm font-medium text-black/60 hover:text-primary" href="{{ path('public_blog_index') }}">Blog Posts</a>
        <a class="text-sm font-medium text-black/60 hover:text-primary" href="{{ path('public_news_index') }}">News</a>
        <a class="text-sm font-medium text-black/60 hover:text-primary" href="{{ path('public_companies_index') }}">Companies</a>
      </div>
    </nav>
  </header>

  <main class="w-full grow">
    <section id="news" class="relative w-full h-[550px] overflow-hidden bg-white" x-init="setInterval(() => { activeSlide = (activeSlide + 1) % {{ latestNews|length }} }, 5000)">
      {% for n in latestNews %}
      <a href="{{ path('public_news_show', {id: n.id}) }}" class="absolute inset-0 transition-opacity duration-1000 {% if loop.index0 == 0 %}opacity-100{% else %}opacity-0{% endif %}" x-show="activeSlide === {{ loop.index0 }}" x-transition:enter="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="opacity-100" x-transition:leave-end="opacity-0">
        {% if n.filePath %}
          <img src="{{ asset(n.filePath) }}" alt="{{ n.title }}" class="h-full w-full object-cover" />
        {% else %}
          <div class="h-full w-full bg-gray-200"></div>
        {% endif %}
        <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
        <div class="absolute bottom-0 left-0 p-12 text-white">
          <h1 class="font-display text-5xl font-bold underline decoration-transparent hover:decoration-white">{{ n.title }}</h1>
        </div>
      </a>
      {% endfor %}
      <button @click="activeSlide = (activeSlide - 1 + {{ latestNews|length }}) % {{ latestNews|length }}" class="absolute left-4 top-1/2 -translate-y-1/2 rounded-full bg-white/20 p-2 text-white backdrop-blur-sm transition hover:bg-white/30"><span class="material-symbols-outlined">chevron_left</span></button>
      <button @click="activeSlide = (activeSlide + 1) % {{ latestNews|length }}" class="absolute right-4 top-1/2 -translate-y-1/2 rounded-full bg-white/20 p-2 text-white backdrop-blur-sm transition hover:bg-white/30"><span class="material-symbols-outlined">chevron_right</span></button>
    </section>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
      <div id="blogs" class="space-y-12">
        <div>
          <h2 class="font-display text-3xl font-bold px-4 pb-6">Blog Posts</h2>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
            {% for b in latestBlogs %}
            <a class="group flex flex-col space-y-4 rounded-lg overflow-hidden shadow-lg transition-all hover:shadow-xl" href="{{ path('public_blog_show', {id: b.id}) }}">
              <div class="w-full h-48 bg-cover bg-center" style="background-image:url('{{ b.filePath ? asset(b.filePath) : '' }}');"></div>
              <div class="p-4 flex flex-col grow">
                <p class="text-sm font-medium text-primary">{{ b.category ?? 'Blog' }}</p>
                <p class="text-lg font-display font-bold group-hover:text-primary mt-1">{{ b.title }}</p>
                <p class="text-sm text-black/60 mt-2 grow">{{ b.description }}</p>
              </div>
            </a>
            {% endfor %}
          </div>
          <div class="text-center mt-10">
            <a class="bg-primary text-white font-bold py-3 px-8 rounded-full hover:bg-primary/90 transition-colors shadow-lg shadow-primary/30 hover:shadow-primary/40 text-lg" href="{{ path('public_blog_index') }}">Tüm Blogları Göster</a>
          </div>
        </div>

        <div id="companies" class="pt-12" x-data="{ companies: [] }" x-init="companies = {{ featuredCompanies|json_encode(constant('JSON_HEX_TAG') b-or constant('JSON_HEX_APOS') b-or constant('JSON_HEX_AMP') b-or constant('JSON_HEX_QUOT'))|raw }}">
          <h2 class="font-display text-3xl font-bold px-4 pb-8 text-center">Featured Companies</h2>
          <div class="relative w-full overflow-hidden group">
            <div class="flex animate-marquee">
              {% for c in featuredCompanies %}
              <div class="flex-shrink-0 w-64 mx-4 p-4 flex flex-col items-center justify-center bg-white rounded-xl shadow-lg transition-transform duration-300 hover:scale-105">
                {% if c.filePath %}<img src="{{ asset(c.filePath) }}" alt="{{ c.name }}" class="h-20 w-20 object-contain mb-4" />{% endif %}
                <h3 class="text-xl font-bold font-display text-center">{{ c.name }}</h3>
              </div>
              {% endfor %}
            </div>
            <div class="absolute inset-0 bg-gradient-to-r from-background-light via-transparent to-background-light pointer-events-none"></div>
          </div>
          <div class="text-center mt-10">
            <a class="bg-primary text-white font-bold py-3 px-8 rounded-full hover:bg-primary/90 transition-colors shadow-lg shadow-primary/30 hover:shadow-primary/40 text-lg" href="{{ path('public_companies_index') }}">Tüm Şirketleri Görüntüle</a>
          </div>
        </div>
      </div>
    </div>
  </main>
  <footer class="w-full bg-white dark:bg-background-dark border-t border-black/10 dark:border-white/10 mt-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div class="space-y-4">
          <div class="flex items-center gap-3">
            <div class="h-8 w-8 text-primary dark:text-primary">
              <svg fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M24 4H6V17.3333V30.6667H24V44H42V30.6667V17.3333H24V4Z" fill="currentColor" fill-rule="evenodd"></path></svg>
            </div>
            <h2 class="font-display text-2xl font-bold text-black dark:text-white">Sanayi Birliği</h2>
          </div>
          <p class="text-sm text-black/60 dark:text-white/60">The latest news, articles, and resources, sent to your inbox weekly.</p>
          <div class="flex space-x-4">
            <a class="text-black/60 dark:text-white/60 hover:text-primary transition-colors" href="#"><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.26C11.73,8.6 11.77,8.92 11.84,9.22C8.28,9.03 5.15,7.38 3.02,4.76C2.66,5.39 2.45,6.13 2.45,6.92C2.45,8.43 3.2,9.78 4.34,10.5C3.62,10.48 2.96,10.28 2.38,9.95C2.38,9.97 2.38,9.98 2.38,10C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16.03 6.02,17.25 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z"></path></svg></a>
            <a class="text-black/60 dark:text-white/60 hover:text-primary transition-colors" href="#"><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12C2 16.84 5.44 20.9 10.13 21.82V14.88H7.48V12H10.13V9.77C10.13 7.15 11.71 5.71 14.11 5.71C15.26 5.71 16.27 5.8 16.52 5.83V8.14H15.19C13.88 8.14 13.58 8.92 13.58 9.99V12H16.34L15.89 14.88H13.58V21.82C18.56 20.9 22 16.84 22 12C22 6.48 17.52 2 12 2Z"></path></svg></a>
            <a class="text-black/60 dark:text-white/60 hover:text-primary transition-colors" href="#"><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7.07,18.28C7.5,17.38 10.12,16.5 12,16.5C13.88,16.5 16.5,17.38 16.93,18.28C15.57,19.36 13.86,20 12,20C10.14,20 8.43,19.36 7.07,18.28M18.36,16.83C16.93,15.09 13.82,14.5 12,14.5C10.18,14.5 7.07,15.09 5.64,16.83C4.62,15.49 4,13.82 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,13.82 19.38,15.49 18.36,16.83M12,6C10.06,6 8.5,7.56 8.5,9.5C8.5,11.44 10.06,13 12,13C13.94,13 15.5,11.44 15.5,9.5C15.5,7.56 13.94,6 12,6Z"></path></svg></a>
          </div>
        </div>
        <div class="space-y-4">
          <h3 class="text-lg font-bold text-black dark:text-white">İletişim</h3>
          <ul class="space-y-2 text-sm text-black/60 dark:text-white/60">
            <li><a class="hover:text-primary" href="#">info@sanayibirligi.com</a></li>
            <li><a class="hover:text-primary" href="#">+90 (212) 123-4567</a></li>
            <li>123 Teknoloji Sokağı, İstanbul, Türkiye</li>
          </ul>
        </div>
        <div class="space-y-4">
          <h3 class="text-lg font-bold text-black dark:text-white">Hızlı Linkler</h3>
          <ul class="space-y-2 text-sm">
            <li><a class="text-black/60 dark:text-white/60 hover:text-primary" href="#">Hakkımızda</a></li>
            <li><a class="text-black/60 dark:text-white/60 hover:text-primary" href="{{ path('public_blog_index') }}">Blog</a></li>
            <li><a class="text-black/60 dark:text-white/60 hover:text-primary" href="{{ path('public_companies_index') }}">Şirketler</a></li>
            <li><a class="text-black/60 dark:text-white/60 hover:text-primary" href="#">Kariyer</a></li>
          </ul>
        </div>
        <div class="space-y-4">
          <h3 class="text-lg font-bold text-black dark:text-white">Haber Bülteni</h3>
          <p class="text-sm text-black/60 dark:text-white/60">En son haberler ve güncellemeler için abone olun.</p>
          <form class="flex">
            <input class="w-full rounded-l-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-primary focus:border-primary" placeholder="E-postanızı girin" type="email" />
            <button class="bg-primary text-white px-4 py-2 rounded-r-md hover:bg-primary/90 transition-colors" type="submit">Abone Ol</button>
          </form>
        </div>
      </div>
      <div class="border-t border-black/10 dark:border-white/10 mt-8 pt-6 flex flex-col sm:flex-row items-center justify-between">
        <p class="text-sm text-black/60 dark:text-white/60">© 2024 Sanayi Birliği. Tüm hakları saklıdır.</p>
        <div class="flex items-center space-x-4 mt-4 sm:mt-0">
          <a class="text-sm text-black/60 dark:text-white/60 hover:text-primary" href="#">Gizlilik Politikası</a>
          <a class="text-sm text-black/60 dark:text-white/60 hover:text-primary" href="#">Kullanım Şartları</a>
        </div>
      </div>
    </div>
  </footer>
</div>
<script defer src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js"></script>
{% endblock %}


